
# Federal Travel Online Estimator (FTOE)
#### Video Demo:  https://youtu.be/4UsqrqejSj4
#### Description:
My final project can be used to estimate federal employee travel costs to a single destination for one or multiple travelers. Data will be refreshed annually when new data becomes available (typically early October). Lodging and meals are estimated using the latest FY Per Diem file (M&IE) available from the GSA https://www.gsa.gov/travel/plan-a-trip/per-diem-rates/per-diem-files. Airfare is estimated using data from the OMB-designated Best-in-Class City Pair Program that procures and manages discounted air passenger transportation services for federal government travelers. The latest City Pair Program data is available at https://www.gsa.gov/travel/plan-a-trip/transportation-airfare-rates-pov-rates-etc/airfare-rates-city-pair-program. Airfare costs listed are for unrestricted coach fares. Airfare does not include fuel surcharges, baggage fees, or taxes. Users can also choose POV as an option instead of airfare or include it in the estimate using the late rate of $0.67 per mile. Miscellaneous charges such as the TDY voucher ($14.50) and/or travel fee ($11.17) can be included in the estimate at a fixed amount per traveler. Specific state tax information can be found at https://smartpay.gsa.gov/smarttax/tax-information-by-state/. Follow the step-by-step instructions listed on each page.

The project is a Python Flask web application that creates an interactive website allowing users to choose various travel options. The file app.py is the main file used to run the Python application. The data is stored in SQLite database. The login and registration routes allow users to create a private account with a password that is stored as a hashed value in a user table. The user can save trip estimates that they created and also access past trip cost estimates. The per diem master file and city pair awards csv files were processed using the FTOE_DB_Creation.py into tables in the SQLite FTOE database. For the per diem file it was necessary to alter the season begin and end variables to a numeric month value because for some locations the lodging and/or meal costs vary throughout the year. The city pair airfare data has one-way cost estimates for each pair of origination and destination airports. To obtain all round trip routes available, it was necessary to include the routes reversed to allow users to select all destinations from an origination airport in the web application. The file also creates the user and trips table in the database. The trips table contains all the fields collected for each traveler(s) estimate of costs for each unique trip. The trip table collects variables such as trip name, a unique trip id, the number of travelers, destination location, the meal and lodging per diem costs at the location, round trip YCA airfare costs, POV costs, miscellaneous costs, and the total costs.

The project uses multiple HTML templates so users can navigate throughout the app. There is the main login HTML page for username and password and the registration HTML for new users to create a username and password. The user info is stored in the SQLite database table. Once a user is logged in, the @login_required ensures that information is secure for a user. After logging in the user is directed to the create trip HTML page. On the page users create a unique trip name of at least eight characters, the number of travelers, the start and end dates, the per location from a dropdown select that has live search enabled, the airfare if applicable also with live search, POV round trip miles if applicable, and a per traveler estimate of miscellaneous costs. Once the trip is created, the user is directed to the trip HTML page where tables display the estimated costs for lodging, meals, etc. based on the duration of the trip using costs extracted using SQL queries from the database. The information is also inserted into the trips database table. Users at this stage can add additional travelers to the same location, but with different airfare, POV and miscellaneous costs. These values are also inserted in the trip tables as additional rows, but stored under the same unique trip name and id. The final option is an additional page accessed in the header that allows users to access past trips. Once at that page they can select a trip name from a dropdown list if any exist and the page is refreshed to include the details for that specific trip. The users can then select another trip from the dropdown if they prefer.The final route allows users to logout of the application and redirects them back to the main login page.

The interactive dropdowns required some additional JavaScript as well as the bootstrap select picker. Other styling was done in the style.css file in the static folder. Future iteration of this project could allow users to compare costs for travelers against multiple destinations to determine which is more cost effective. Another nice addition would be to download all trip data as a csv file locally.
